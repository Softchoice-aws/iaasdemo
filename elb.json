{
  "AWSTemplateFormatVersion":"2010-09-09",
  "Description":"Provision ELB for Demo",

  "Parameters":{
    "shortClientName":{"Type":"String"},
    "longClientName":{"Type":"String"},
    "publicSubnet0Id":{"Type":"String"},
    "publicSubnet1Id":{"Type":"String"},
    "elbSecurityGroupId":{"Type":"String"}
  },
  "Resources":{
    "publicLoadBalancer":{
      "Type":"AWS::ElasticLoadBalancing::LoadBalancer",
      "Properties":{
        "CrossZone":true,
        "HealthCheck":{
          "HealthyThreshold":"3",
          "UnhealthyThreshold":"3",
          "Interval":"10",
          "Timeout":"5",
          "Target":"TCP:80"
        },
        "Listeners":[
          {
            "InstancePort":"80",
            "InstanceProtocol":"HTTP",
            "LoadBalancerPort":"80",
            "Protocol":"HTTP"
          }
        ],
        "Subnets":[{"Ref":"publicSubnet0Id"},{"Ref":"publicSubnet1Id"}],
        "SecurityGroups":[{"Ref":"elbSecurityGroupId"}],
        "Tags":[
          {"Key":"Name","Value":"elb-public"}
        ]
      }
    }
  },
  "Outputs":{
    "elbName":{"Value":{"Ref":"publicLoadBalancer"}}
  }
}
